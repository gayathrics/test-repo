name: teamwork

on:
  pull_request:
    types: [opened, closed]
  pull_request_review:
    types: [submitted]

jobs:
  teamwork-sync:
    runs-on: ubuntu-latest
    name: Teamwork Sync
    steps:
      - name: Teamwork sync action step
        id: twsync
        uses: gayathrics/github-teamwork-pr-sync
        with:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
          TEAMWORK_URL:  ${{ secrets.TEAMWORK_URI }}
          TEAMWORK_API_TOKEN: ${{ secrets.TEAMWORK_API_TOKEN }}
          TEAMWORK_PROJECT_ID: ${{ secrets.TEAMWORK_PROJECT_ID}}
          TEAMWORK_OPENED_COLUMN: 'Ready for Peer Review'
          TEAMWORK_CLOSED_COLUMN: 'In Progress'
          TEAMWORK_MERGED_COLUMN: 'Ready to Test (In Staging)'
      - name: Get the output message
        run: echo "The result is - ${{ steps.twsync.outputs.message }}"
          